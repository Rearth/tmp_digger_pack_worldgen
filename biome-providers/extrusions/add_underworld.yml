undergroundSampler: &biomeSampler
  type: "DOMAIN_WARP"
  amplitude: 30
  dimensions: 2
  warp:
    type: "FBM"
    octaves: 2
    sampler:
      type: "OPEN_SIMPLEX_2S"
      frequency: 1 / ${meta.yml:underworldBiomeSize} * 2 * 3
  sampler:
    type: "CELLULAR"
    return: "CellValue"
    frequency: 1 / ${meta.yml:underworldBiomeSize} * 3
    seed: 43577

extrusions:
  - type: REPLACE
    from: ALL
    sampler:
      type: EXPRESSION
      expression: |
        biomeSampler(x,z)
      samplers:
        biomeSampler: *biomeSampler
    to:
      - LUSH_CAVES: 2
      - DRIPSTONE_CAVES: 2
      - DEEP_DARK: 1
      - TERRACOTTA_CAVES: 2
      - CRYSTAL_CAVES: 2
      - INFERNAL_CAVES: 3
    range:
      min: -10
      max: 50